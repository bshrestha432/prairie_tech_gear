<div class="product-card" id="product-<%= product.id %>">

  <% if product.on_sale %>
    <span class="sale-badge">SALE</span>
  <% end %>

  <% if product.new_arrival && product.created_at >= 3.days.ago %>
    <span class="new-badge">NEW</span>
  <% end %>

  <div class="product-image">
    <% if product.images.attached? %>
      <%= image_tag product.images.first.variant(resize: "300x300") %>
    <% else %>
      <%= image_tag "placeholder_product.jpg", alt: "Product image" %>
    <% end %>
  </div>

  <div class="product-info">
    <h3 class="product-name"><%= product.name %></h3>

    <div class="product-price">
      <% if product.on_sale && product.sale_price %>
        <span class="original-price"><%= number_to_currency(product.price) %></span>
        <span class="sale-price"><%= number_to_currency(product.sale_price) %></span>
      <% else %>
        <span><%= number_to_currency(product.price) %></span>
      <% end %>
    </div>

    <div class="product-category">
      <%= product.category.name if product.category %>
    </div>

    <%= link_to "View Details", product_path(product), class: "view-details-btn" %>
  </div>
</div>